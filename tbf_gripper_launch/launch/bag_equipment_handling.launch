<?xml version="1.0"?>
<launch>
    <arg name="name" default="equipment_task"/>
    <arg name="path" default="$(env HOME)/bags/$(arg name)"/>
    <arg name="core_topics" default="/rosout /clock /tf /tf_static /joint_states /cmd_vel /e_stop" />
    <arg name="camera_topics" default="/gripper_d435/depth/color/points_throttle /gripper_d435/color/camera_info /gripper_d435/color/image_rect_color /gripper_d435/depth/camera_info /gripper_d435/depth/image_rect_raw"/>
    <arg name="move_group_topics_out" default="/octomap_filtered_cloud /move_group/result /execute_trajectory/result" />
    <arg name="move_group_topics_in" default="/attached_collision_object /collision_object /move_group/goal /execute_trajectory/goal /move_group /move_group_world" />
    <arg name="controller" default="scaled_pos_traj_controller" />
    <arg name="controller_type" default="follow_joint_trajectory" />
    <arg name="controller_topics" default="/$(arg controller)/$(arg controller_type)/result /$(arg controller)/$(arg controller_type)/goal /$(arg controller)/$(arg controller_type)/feedback /$(arg controller)/$(arg controller_type)/status" />

    <arg name="equipment_task_topics" default="/equipment_task/continue /debug_target_pose /ssb_delta" />

    <arg name="topics" default="$(arg core_topics) $(arg camera_topics) $(arg move_group_topics_out) $(arg move_group_topics_in) $(arg controller_topics) $(arg equipment_task_topics)"/>

    <node pkg="rosbag" type="record" name="$(arg name)_record" output="screen" args="-o $(arg path) $(arg topics)"/>
</launch>
